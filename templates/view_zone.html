{% extends "dashboard.html" %}
{% block content %}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="#">Dashboard</a></li>
        <li class="breadcrumb-item"><a href="/ui/zones/list">Zones</a></li>
        <li class="breadcrumb-item active" aria-current="page">{{zone.name}}</li>
    </ol>
</nav>

<h1>Zone: {{zone.name}}</h1>

<a href="/ui/zones/delete/{{zone.id.unwrap()}}"><button type="button"
        class="btn btn-danger">Delete
        Zone</button></a>

<a href="/ui/zones/{{zone.id.unwrap()}}/create_record"><button type="button"
        class="btn btn-success">Create
        Record</button></a>

<div class="row">
    <div class="col-4">Responsible Name (RNAME)</div>
    <div class="col">{{zone.rname}}</div>
</div>

{% if zone.records.is_empty() %}
<div class="alert alert-warning" role="alert">No zone records found!</div>
{% else %}
<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Data</th>
                <th>TTL</th>
                <th>Class</th>
                <th>&nbsp;</th>
            </tr>
        </thead>
        {% for record in zone.records %}

        <tr>
            <td class="col-8 text-truncate">{{record.name}}</td>
            <td class="col-1">{{record.rrtype}}</td>
            <td class="col-1">{{record.rdata}}</td>
            <td class="col-1">{{record.ttl}}</td>
            <td class="col-1">{{record.class}}</td>
            <td class="col-1 text-nowrap"><a
                    href="{{zone.id.unwrap()}}/edit/{{record.id.unwrap_or(-1)}}"><i
                        data-feather="edit">Edit</i></a>
                <a
                    href="{{zone.id.unwrap()}}/delete/{{record.id.unwrap_or(-1)}}">
                    <i data-feather="trash-2">Delete</i></a>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
</div>
{% endblock content %}
